<html>
  <head>
    <title>d3</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
  </head>
  <body>
    <script charset="utf-8">
      var data = [1, 2, 3, 4, 5];

      var scale = d3.scale.linear().domain([1, 5]).range([0, 200]);

      var svg = d3.select('body').append('svg')
      .attr('width', 250)
      .attr('height', 250);

      function render(data, color) {
        //Bind Data
        var rects = svg.selectAll('rect').data(data);

        //Enter
        rects.enter().append('rect')
          .attr('y', 50)
          .attr('width', 20)
          .attr('height', 20);

        //Update
        rects
          .attr('x', scale)
          .attr('fill', color);

        //Exit
        rects
          .exit()
          .remove();

      }
      setTimeout(function(){
        render([1, 2, 3], 'red');
      }, 1)

      setTimeout(function(){
        render([1, 2, 3, 4, 5], 'blue');
      }, 1000)

      setTimeout(function(){
        render([1, 2], 'green');
      }, 2000)


    </script>
  </body>
</html>
